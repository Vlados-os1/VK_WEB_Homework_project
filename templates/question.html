{% extends "base.html" %}
{% load static %}

{% block title %}{{ question.title }} - AskPupkin{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/question.css' %}">
{% endblock %}

{% block content %}
{% include "components/question_item.html" with question=question detailed=True %}

<div class="answers-section">
    <h2 class="answers-title">Answers ({{ answers|length }})</h2>

    {% for answer in answers %}
        {% include "components/answer_item.html" with answer=answer %}
    {% endfor %}
</div>

{% if user.is_authenticated %}
<div class="answer-form-section">
    <h3 class="form-title">Enter your answer here...</h3>
    <form class="answer-form" method="POST" action="{% url 'app:question' question.id %}">
        {% csrf_token %}
        {{ answer_form.content }}
        <button type="submit" class="submit-button">Answer</button>
    </form>
</div>
{% else %}
<div class="login-prompt">
    <p>Please <a href="{% url 'app:login' %}">log in</a> to post an answer.</p>
</div>
{% endif %}

{% if page and page.paginator.num_pages > 1 %}
    {% include 'pagination.html' with page=page %}
{% endif %}
{% endblock %}
